<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CyberPie Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;
  background:linear-gradient(135deg,#0ea5e9,#020617);
  font-family:Segoe UI,system-ui;
  display:flex;align-items:center;justify-content:center;color:#e5e7eb
}
.card{
  background:#020617cc;
  width:380px;
  padding:30px;
  border-radius:22px;
  box-shadow:0 0 80px #0ea5e966
}
h2{text-align:center;color:#38bdf8}
input,textarea{
  width:100%;margin:8px 0;padding:12px;
  border-radius:14px;border:1px solid #38bdf8;
  background:#020617;color:white
}
textarea{height:80px;resize:none}
button{
  width:100%;padding:12px;margin-top:10px;
  border:none;border-radius:30px;
  font-weight:700;cursor:pointer
}
.publish{background:#38bdf8}
.logout{background:#ef4444}
.hidden{display:none}
small{opacity:.7;display:block;text-align:center;margin-top:8px}
</style>
</head>

<body>

<div class="card" id="loginBox">
  <h2>Admin Login</h2>
  <input id="user" placeholder="Username">
  <input id="pass" type="password" placeholder="Password">
  <button class="publish" onclick="login()">Login</button>
  <p id="msg" style="color:#f87171;text-align:center"></p>
</div>

<div class="card hidden" id="panel">
  <h2>Create Post</h2>

  <input id="title" placeholder="Post Title">
  <textarea id="desc" placeholder="Post Description"></textarea>

  <input type="file" id="thumb" accept="image/*">
  <input id="link" placeholder="Download / Linkvertise Link">
  <input id="video" placeholder="YouTube Video Link (optional)">

  <button class="publish" onclick="publish()">Publish</button>
  <button class="logout" onclick="logout()">Logout</button>
  <small>Video button shows only if link added</small>
</div>

<script>
const ADMIN="admin", PASS="saggu12@";

function login(){
  if(user.value===ADMIN && pass.value===PASS){
    localStorage.admin="true";
    loginBox.classList.add("hidden");
    panel.classList.remove("hidden");
  } else msg.textContent="Wrong login";
}

function publish(){
  if(!title.value || !link.value){alert("Title & download link required");return;}

  const reader=new FileReader();
  reader.onload=()=>{
    const posts=JSON.parse(localStorage.posts||"[]");
    posts.unshift({
      title:title.value,
      desc:desc.value,
      link:link.value,
      video:video.value,
      thumb:reader.result,
      time:new Date().toLocaleString()
    });
    localStorage.posts=JSON.stringify(posts);
    alert("Post published!");
    title.value=desc.value=link.value=video.value="";
    thumb.value="";
  };

  if(thumb.files[0]) reader.readAsDataURL(thumb.files[0]);
  else reader.onload();
}

function logout(){
  localStorage.removeItem("admin");
  location.reload();
}

if(localStorage.admin){
  loginBox.classList.add("hidden");
  panel.classList.remove("hidden");
}
</script>
</body>
</html>
